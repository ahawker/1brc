# 1brc

Hacking around on the 1brc challenge. No researching other solutions is allowed.

https://github.com/gunnarmorling/1brc

## Usage
Use `make` to run specific implementations.

```
❯ make help
clean                          Clean up all previously built binaries.
v1                             "v1" - A real naiive shit house.
```

### Results

#### V1

```
❯ INPUT=datasets/measurements.txt make v1
{Abha=23.9/699.8/19.2, Abidjan=26.3/1014.4/17.5, Abéché=38.1/1144.2/38.1, Accra=36.7/1030.5/21.1, Addis Ababa=9.6/604.0/8.2, Adelaide=19.5/666.6/19.5, Aden=41.5/1098.9/41.5, Ahvaz=26.7/989.5/26.7, Albuquerque=20.0/538.1/1.5, Alexandra=29.3/431.5/29.3, Alexandria=23.6/792.6/19.9, Algiers=10.4/709.7/10.4, Alice Springs=33.4/829.8/33.4, Almaty=2.4/393.6/2.4, Amsterdam=19.0/390.1/-0.1, Anadyr=-3.4/-269.0/-5.3, Anchorage=14.1/108.6/11.7, Andorra la Vella=33.5/382.7/33.5, Ankara=28.1/461.2/19.2, Antananarivo=22.6/699.4/7.2, Antsiranana=21.9/956.2/21.9, Arkhangelsk=16.7/50.2/-7.1, Ashgabat=34.1/665.1/34.1, Asmara=26.2/603.1/21.4, Assab=41.5/1212.1/41.5, Astana=11.1/131.7/11.1, Athens=43.1/732.7/22.5, Atlanta=27.9/663.0/-1.5, Auckland=25.6/581.2/25.6, Austin=17.4/817.4/8.2, Baghdad=19.2/870.7/16.0, Baguio=24.2/740.9/24.2, Baku=44.1/590.7/34.6, Baltimore=17.4/513.1/10.2, Bamako=43.8/1094.2/26.1, Bangkok=31.3/1070.0/31.3, Bangui=29.8/1025.0/21.8, Banjul=30.3/1004.3/30.3, Barcelona=12.2/700.2/12.2, Bata=23.5/954.7/18.7, Batumi=35.9/535.1/-1.5, Beijing=11.7/518.5/1.5, Beirut=22.2/817.4/12.2, Belgrade=16.7/497.3/12.3, Belize City=32.7/1005.6/31.0, Benghazi=28.9/785.6/20.9, Bergen=17.8/303.1/7.1, Berlin=35.4/402.8/-2.5, Bilbao=7.1/43853.1/7.1, Birao=39.9/1049.7/39.9, Bishkek=20.0/464.8/20.0, Bissau=27.0/1040.9/27.0, Blantyre=27.2/863.7/27.2, Bloemfontein=32.6/593.9/32.6, Boise=24.6/460.4/24.6, Bordeaux=18.6/532.6/15.4, Bosaso=42.4/1175.5/42.4, Boston=20.3/428.2/20.3, Bouaké=29.3/1040.5/29.3, Bratislava=16.0/405.9/12.0, Brazzaville=36.0/942.5/15.6, Bridgetown=50.3/1081.8/23.3, Brisbane=40.6/843.2/20.4, Brussels=35.5/402.9/35.5, Bucharest=21.1/436.8/-21.8, Budapest=32.7/424.2/-9.0, Bujumbura=31.5/925.4/31.1, Bulawayo=32.8/712.3/26.9, Burnie=5.8/521.2/5.8, Busan=3.7/592.8/3.7, Cabo San Lucas=21.9/913.5/21.9, Cairns=24.0/948.3/23.3, Cairo=24.2/869.5/18.8, Calgary=10.8/169.0/-19.8, Canberra=16.4/509.4/16.4, Cape Town=24.7/630.5/14.3, Changsha=24.5/651.1/-0.3, Charlotte=11.2/633.2/9.2, Chiang Mai=26.0/1059.8/26.0, Chicago=14.0/394.2/11.5, Chihuahua=19.7/723.5/19.7, Chittagong=39.1/1008.4/39.1, Chișinău=7.7/399.4/1.9, Chongqing=30.5/699.3/30.5, Christchurch=20.3/486.5/20.3, City of San Marino=28.4/457.0/5.9, Colombo=30.6/1067.8/27.2, Columbus=15.2/456.5/14.9, Conakry=39.6/1025.5/39.6, Copenhagen=27.8/339.5/27.8, Cotonou=42.8/1047.0/42.8, Cracow=23.3/360.4/14.9, Da Lat=32.9/724.0/12.8, Da Nang=32.0/973.2/32.0, Dakar=32.5/942.8/32.5, Dallas=24.7/725.0/24.7, Damascus=9.6/652.6/9.6, Dampier=24.0/1031.9/11.3, Dar es Salaam=18.1/969.1/14.0, Darwin=30.2/1107.7/20.2, Denpasar=41.0/955.7/41.0, Denver=10.3/403.5/-8.7, Detroit=-0.4/392.6/-0.4, Dhaka=21.5/1091.8/10.0, Dikson=-1.2/-423.0/-5.5, Dili=24.9/1056.8/18.1, Djibouti=41.7/1109.9/41.7, Dodoma=39.0/891.8/39.0, Dolisie=32.5/964.4/24.2, Douala=33.9/1047.8/15.2, Dubai=28.4/1031.5/23.6, Dublin=7.1/383.8/7.1, Dunedin=14.8/452.3/14.8, Durban=33.7/826.3/33.7, Dushanbe=11.0/586.1/5.4, Edinburgh=18.2/355.9/2.2, Edmonton=21.2/166.2/21.2, El Paso=23.7/710.4/9.4, Entebbe=8.2/805.8/3.9, Erbil=35.1/729.6/25.1, Erzurum=12.1/199.5/-23.8, Fairbanks=-0.5/-89.9/-9.4, Fianarantsoa=26.6/725.1/26.6, Flores,  Petén=37.6/1026.4/23.2, Frankfurt=18.9/410.0/6.5, Fresno=19.5/743.9/19.5, Fukuoka=23.0/665.8/18.7, Gaborone=12.0/817.0/8.9, Gabès=16.4/756.1/16.4, Gagnoa=49.9/1064.9/29.3, Gangtok=12.0/618.2/6.5, Garissa=51.9/1157.0/51.9, Garoua=40.4/1085.5/25.7, George Town=39.7/1111.2/39.7, Ghanzi=40.4/862.3/40.4, Gjoa Haven=-0.1/-549.1/-0.1, Guadalajara=23.0/847.1/23.0, Guangzhou=17.3/873.2/17.3, Guatemala City=37.0/803.9/22.5, Halifax=12.4/293.1/12.4, Hamburg=1.3/395.4/1.3, Hamilton=17.5/526.2/17.5, Hanga Roa=25.9/813.6/24.2, Hanoi=31.7/898.3/31.7, Harare=18.4/743.7/16.6, Harbin=26.9/199.2/26.9, Hargeisa=13.3/860.5/2.5, Hat Yai=23.8/1064.1/23.8, Havana=32.6/960.3/32.6, Helsinki=7.7/230.3/-0.3, Heraklion=19.5/720.9/15.7, Hiroshima=20.4/649.2/20.4, Ho Chi Minh City=40.4/1121.5/40.4, Hobart=14.5/500.9/9.3, Hong Kong=28.5/907.7/12.6, Honiara=36.1/1016.6/17.7, Honolulu=28.5/971.2/28.5, Houston=28.6/802.1/5.1, Ifrane=8.0/457.8/8.0, Indianapolis=28.1/474.6/24.7, Iqaluit=-4.2/-362.9/-13.1, Irkutsk=18.8/38.5/18.8, Istanbul=30.2/542.6/30.2, Jacksonville=20.8/777.5/6.2, Jakarta=39.3/1008.5/39.3, Jayapura=21.5/1050.2/21.5, Jerusalem=27.3/724.4/27.3, Johannesburg=3.7/606.4/2.3, Jos=29.3/929.4/13.1, Juba=30.6/1087.7/24.1, Kabul=22.2/490.0/22.2, Kampala=36.8/788.2/36.8, Kandi=41.9/1043.8/41.7, Kankan=28.5/1010.4/28.5, Kano=43.1/1069.0/15.2, Kansas City=31.3/498.8/-2.1, Karachi=34.5/1001.7/34.5, Karonga=22.3/979.6/19.7, Kathmandu=23.4/707.4/21.7, Khartoum=44.9/1175.5/32.4, Kingston=41.3/1066.0/41.3, Kinshasa=24.2/959.9/11.5, Kolkata=30.0/1057.7/28.0, Kuala Lumpur=35.9/1112.2/22.0, Kumasi=29.1/1032.9/18.8, Kunming=20.2/635.7/20.2, Kuopio=6.9/128.2/6.9, Kuwait City=35.4/974.1/35.4, Kyiv=20.4/342.0/5.9, Kyoto=19.4/607.5/19.4, La Ceiba=22.9/1020.7/21.4, La Paz=28.6/975.9/23.5, Lagos=23.8/1051.4/15.9, Lahore=29.6/989.9/29.6, Lake Havasu City=37.3/948.3/37.3, Lake Tekapo=13.4/334.9/-5.0, Las Palmas de Gran Canaria=38.1/824.7/38.1, Las Vegas=3.2/760.8/2.0, Launceston=19.5/526.3/19.5, Lhasa=10.4/293.1/8.8, Libreville=27.3/1003.9/27.3, Lisbon=28.1/690.0/17.0, Livingstone=32.6/845.0/23.4, Ljubljana=8.7/426.5/2.3, Lodwar=33.6/1142.6/33.6, Lomé=25.8/1057.2/21.1, London=14.4/438.4/14.4, Los Angeles=32.1/727.8/26.5, Louisville=16.2/545.5/11.7, Luanda=25.0/1009.9/12.2, Lubumbashi=42.1/833.9/21.3, Lusaka=40.3/778.6/40.3, Luxembourg City=5.9/379.7/5.9, Lviv=15.3/312.2/14.5, Lyon=16.3/484.6/6.4, Madrid=14.9/558.5/11.7, Mahajanga=35.8/1009.5/35.4, Makassar=37.2/1015.6/37.2, Makurdi=24.7/1035.7/13.9, Malabo=42.3/1022.4/24.9, Malé=37.3/1118.2/37.3, Managua=27.0/1130.5/27.0, Manama=24.5/1037.9/24.5, Mandalay=37.1/1141.8/20.8, Mango=27.2/1088.3/25.4, Manila=34.1/1114.7/34.1, Maputo=20.9/907.4/20.9, Marrakesh=35.6/758.3/35.6, Marseille=25.6/617.6/25.6, Maun=33.2/862.7/33.2, Medan=39.9/1026.4/28.1, Mek'ele=27.8/861.7/21.2, Melbourne=16.5/596.1/6.2, Memphis=18.3/669.7/1.7, Mexicali=25.7/911.9/11.9, Mexico City=16.2/680.1/0.6, Miami=29.1/994.2/29.1, Milan=35.2/505.2/35.2, Milwaukee=19.7/350.8/10.5, Minneapolis=13.0/305.0/11.2, Minsk=10.6/268.4/1.3, Mogadishu=33.0/1066.6/30.0, Mombasa=41.9/1014.8/38.3, Monaco=21.8/646.3/7.3, Moncton=25.4/238.3/25.4, Monterrey=16.9/906.7/13.3, Montreal=14.9/266.8/-0.2, Moscow=23.5/220.2/23.5, Mumbai=37.0/1057.1/30.6, Murmansk=6.3/22.7/6.3, Muscat=42.3/1089.0/20.3, Mzuzu=19.6/711.2/19.6, N'Djamena=25.1/1127.8/23.3, Naha=28.6/937.1/22.5, Nairobi=38.5/692.7/38.5, Nakhon Ratchasima=27.8/1052.1/16.2, Napier=3.0/565.2/3.0, Napoli=19.7/648.9/10.5, Nashville=15.0/610.3/3.8, Nassau=28.2/962.0/28.2, Ndola=47.1/806.0/47.1, New Delhi=29.0/979.9/29.0, New Orleans=15.9/808.6/15.9, New York City=11.1/513.0/11.1, Ngaoundéré=15.1/851.1/10.8, Niamey=40.4/1134.6/28.8, Nicosia=16.8/790.1/-0.6, Niigata=6.9/545.0/6.9, Nouadhibou=32.8/816.9/13.5, Nouakchott=33.6/985.9/22.7, Novosibirsk=6.1/65.6/-1.4, Nuuk=-0.9/-52.9/-22.5, Odesa=16.4/398.4/13.8, Odienné=37.3/1008.8/18.6, Oklahoma City=22.5/639.5/22.5, Omaha=10.1/405.9/0.1, Oranjestad=9.8/1060.1/9.8, Oslo=12.1/220.0/12.1, Ottawa=7.5/250.1/7.5, Ouagadougou=21.0/1095.6/14.4, Ouahigouya=33.5/1073.6/29.6, Ouarzazate=23.0/732.4/-2.7, Oulu=10.6/104.4/10.6, Palembang=33.6/1105.5/33.6, Palermo=29.4/729.7/29.4, Palm Springs=40.2/947.8/40.2, Palmerston North=17.2/516.6/15.6, Panama City=41.1/1087.0/41.1, Parakou=32.5/999.7/32.5, Paris=26.4/483.2/12.7, Perth=22.7/703.7/18.5, Petropavlovsk-Kamchatsky=0.7/72.7/-7.5, Philadelphia=6.2/525.1/6.2, Phnom Penh=31.2/1078.6/29.5, Phoenix=26.1/926.2/26.1, Pittsburgh=21.9/412.2/12.4, Podgorica=16.5/573.7/-3.2, Pointe-Noire=33.9/1046.8/25.6, Pontianak=29.6/1063.4/26.9, Port Moresby=32.7/1035.0/22.2, Port Sudan=38.1/1083.2/37.1, Port Vila=20.8/905.8/20.8, Port-Gentil=19.6/1050.8/19.6, Portland (OR)=18.4/481.0/9.6, Porto=22.8/621.6/15.2, Prague=11.8/329.6/11.8, Praia=28.3/969.5/15.4, Pretoria=19.2/712.8/19.2, Pyongyang=12.3/430.4/12.3, Rabat=21.1/659.4/8.2, Rangpur=33.2/950.3/33.2, Reggane=26.5/1106.8/26.5, Reykjavík=14.4/171.9/6.0, Riga=18.7/247.4/18.7, Riyadh=22.3/1022.5/5.9, Rome=26.3/617.7/-4.0, Roseau=29.8/1005.3/29.8, Rostov-on-Don=28.2/375.2/1.5, Sacramento=30.2/623.5/5.6, Saint Petersburg=14.5/31790.7/14.5, Saint-Pierre=7.6/222.7/7.6, Salt Lake City=18.1/450.3/18.1, San Antonio=44.4/817.1/37.6, San Diego=20.3/710.6/-1.2, San Francisco=9.1/570.7/9.1, San Jose=17.7/648.8/17.7, San José=26.0/896.6/16.4, San Juan=22.1/1068.0/22.1, San Salvador=21.4/872.7/17.0, Sana'a=22.7/808.1/9.5, Santo Domingo=27.1/1003.1/27.1, Sapporo=6.0/338.9/6.0, Sarajevo=24.2/380.1/24.2, Saskatoon=19.2/128.1/9.6, Seattle=16.2/453.6/16.2, Seoul=21.0/496.9/2.4, Seville=20.4/751.4/20.4, Shanghai=16.0/645.6/16.0, Singapore=23.5/1033.2/15.0, Skopje=18.7/493.8/18.7, Sochi=31.8/527.2/7.5, Sofia=16.9/422.1/16.9, Sokoto=44.8/1151.6/44.8, Split=19.7/606.3/19.7, St. John's=8.9/193.8/0.6, St. Louis=13.6/546.2/-6.7, Stockholm=8.5/261.4/8.5, Surabaya=42.1/1050.1/40.8, Suva=38.2/980.1/38.2, Suwałki=9.6/285.8/9.6, Sydney=31.0/681.2/17.3, Ségou=35.5/1092.3/29.1, Tabora=33.5/889.9/13.5, Tabriz=21.0/499.6/21.0, Taipei=28.5/902.0/0.3, Tallinn=11.5/242.6/11.5, Tamale=31.4/1114.3/31.4, Tamanrasset=34.1/859.1/34.1, Tampa=35.2/112676.4/28.8, Tashkent=7.9/595.0/7.9, Tauranga=19.5/588.5/-1.3, Tbilisi=25.8/526.2/6.3, Tegucigalpa=25.6/863.3/25.6, Tehran=27.0/660.0/27.0, Tel Aviv=23.4/782.8/17.7, Thessaloniki=20.2/645.9/20.2, Thiès=32.9/917.6/32.9, Tijuana=32.9/702.9/32.9, Timbuktu=42.3/1083.0/27.6, Tirana=22.4/631.0/-6.3, Toamasina=19.6/908.5/19.6, Tokyo=9.2/597.3/9.2, Toliara=44.0/942.2/29.8, Toluca=22.5/472.7/10.0, Toronto=10.7/367.6/5.4, Tripoli=3.0/765.5/3.0, Tromsø=6.9/108.7/-4.0, Tucson=29.0/814.9/29.0, Tunis=21.3/719.9/8.7, Ulaanbaatar=-3.9/-15.2/-3.9, Upington=29.2/805.0/11.3, Vaduz=0.2/403.1/0.2, Valencia=31.1/695.0/31.1, Valletta=38.8/723.1/38.8, Vancouver=19.9/423.8/19.9, Veracruz=52.2/964.6/52.2, Vienna=17.9/396.1/17.9, Vientiane=36.1/1014.0/36.1, Villahermosa=26.0/1054.3/20.4, Vilnius=-1.6/240.2/-1.8, Virginia Beach=33.7/627.7/33.7, Vladivostok=7.8/184.6/4.6, Warsaw=23.4/337.9/23.4, Washington, D.C.=12.2/560.8/12.0, Wau=33.8/1094.4/33.8, Wellington=16.5/488.0/14.2, Whitehorse=10.9/-3.5/-11.6, Wichita=4.9/550.9/4.9, Willemstad=28.5/1082.1/28.2, Winnipeg=-11.7/116.4/-19.3, Wrocław=26.2/370.5/-2.5, Xi'an=16.7/560.9/13.6, Yakutsk=-3.2/-348.9/-18.5, Yangon=35.0/1082.0/29.9, Yaoundé=27.5/926.6/27.5, Yellowknife=-8.5/-172.9/-17.3, Yerevan=34.3/485.3/28.0, Yinchuan=4.0/364.1/4.0, Zagreb=18.7/411.8/18.7, Zanzibar City=36.1/1028.8/36.1, Zürich=1.8/367.4/1.8, Ürümqi=17.4/299.7/17.4, İzmir=21.8/685.2/21.8}
135.90 real       133.31 user         4.49 sys
```
